#!/bin/sh

# Output the platform for PVS: consists of the architecture-os
# currently redhat4, redhat5, or solaris.
# In each case, we try to work out the arch, os, and os_version.
# This is driven by the operating system (uname -s), since the machine type
# (uname -m) is just a number for AIX systems.
case `uname -s` in
  SunOS) case `uname -m` in
	   sun4*) arch=sun4;;
	   sun3*) arch=sun3;;
	   *)     arch=`uname -m`;;
	 esac
	 os=SunOS
         os_version=`uname -r | cut -d"." -f1`;;
  Linux) arch=ix86
	 os=Linux;;
  AIX) arch=powerpc-ibm
       os=AIX
       os_version=`uname -r`;;
  Darwin) case `uname -p` in
            powerpc) arch=powerpc;;
	    i*86) arch=ix86;;
	    *) arch=`uname -p`;;
	  esac
          os=MacOSX
	  os_version=`uname -r | cut -d"." -f1`;;
  *)   arch=`uname -m`
       os=`uname -s`
       os_version=`uname -r | cut -d"." -f1`;;
esac
echo "${arch}-${os}${os_version}"
